[gd_scene load_steps=46 format=4 uid="uid://yj8lg31imwsl"]

[ext_resource type="Script" path="res://addons/gaea/nodes/generator.gd" id="1_b5xa0"]
[ext_resource type="Script" path="res://addons/gaea/resources/materials/tilemap_material.gd" id="2_8c1uf"]
[ext_resource type="Script" path="res://addons/gaea/resources/gaea_data.gd" id="3_aq2cv"]
[ext_resource type="Script" path="res://addons/gaea/resources/gaea_layer.gd" id="3_hrvmf"]
[ext_resource type="Script" path="res://addons/gaea/graph/nodes/node_argument.gd" id="3_pv6db"]
[ext_resource type="Texture2D" uid="uid://cmy8ope6463sf" path="res://scenes/test/test_tileset.png" id="3_snetl"]
[ext_resource type="Script" path="res://addons/gaea/graph/nodes/node_slot.gd" id="4_5mrl4"]
[ext_resource type="Script" path="res://addons/gaea/graph/nodes/node_resource.gd" id="5_d22to"]
[ext_resource type="Script" path="res://addons/gaea/graph/nodes/root/map/threshold_mapper.gd" id="7_xs8ip"]
[ext_resource type="Script" path="res://addons/gaea/graph/nodes/root/input/variable_node.gd" id="8_3dpxg"]
[ext_resource type="Resource" uid="uid://bbkdvyxkj2slo" path="res://addons/gaea/graph/nodes/output_node_resource.tres" id="9_8skmy"]
[ext_resource type="Script" path="res://addons/gaea/graph/nodes/root/data/noise/simplex_smooth.gd" id="9_fpx12"]
[ext_resource type="Script" path="res://addons/gaea/nodes/renderers/tilemap_renderer.gd" id="11_db3f4"]
[ext_resource type="Shader" uid="uid://c2pc7mfv0730k" path="res://new_shader.tres" id="11_kcwyn"]

[sub_resource type="Resource" id="Resource_qjoei"]
script = ExtResource("2_8c1uf")
type = 0
tilemap_layer = 0
source_id = 0
atlas_coord = Vector2i(0, 0)
alternative_tile = 0

[sub_resource type="Resource" id="Resource_jnw5g"]
script = ExtResource("2_8c1uf")
type = 0
tilemap_layer = 0
source_id = 0
atlas_coord = Vector2i(3, 0)
alternative_tile = 0

[sub_resource type="Resource" id="Resource_jrnmn"]
script = ExtResource("3_hrvmf")
enabled = true

[sub_resource type="Resource" id="Resource_5ghq7"]
script = ExtResource("3_hrvmf")
enabled = true

[sub_resource type="Resource" id="Resource_88nce"]
script = ExtResource("3_pv6db")
type = 0
name = "frequency"

[sub_resource type="Resource" id="Resource_w4c4h"]
script = ExtResource("3_pv6db")
type = 0
name = "lacunarity"

[sub_resource type="Resource" id="Resource_7ltu6"]
script = ExtResource("3_pv6db")
type = 1
name = "octaves"

[sub_resource type="Resource" id="Resource_8tvqk"]
script = ExtResource("4_5mrl4")
left_enabled = false
left_type = 0
left_label = ""
right_enabled = true
right_type = 0
right_label = "Data [-1, 1]"

[sub_resource type="Resource" id="Resource_begw7"]
script = ExtResource("9_fpx12")
type = 0
input_slots = Array[ExtResource("4_5mrl4")]([])
args = Array[ExtResource("3_pv6db")]([SubResource("Resource_88nce"), SubResource("Resource_w4c4h"), SubResource("Resource_7ltu6")])
output_slots = Array[ExtResource("4_5mrl4")]([SubResource("Resource_8tvqk")])
title = "SimplexSmooth2D"
description = "Creates a grid of values from [code]-1[/bg][/c] to [code]1[/bg][/c] based on a SimplexSmooth noise texture.
[b]Ignores the z axis.[/b]"
is_output = false
data = {
"frequency": 0.01,
"lacunarity": 2.0,
"octaves": 5.0
}

[sub_resource type="Resource" id="Resource_3vm82"]
script = ExtResource("3_pv6db")
type = 0
name = "min"

[sub_resource type="Resource" id="Resource_qexl1"]
script = ExtResource("3_pv6db")
type = 0
name = "max"

[sub_resource type="Resource" id="Resource_ft4k8"]
script = ExtResource("4_5mrl4")
left_enabled = true
left_type = 0
left_label = "Data"
right_enabled = false
right_type = 0
right_label = ""

[sub_resource type="Resource" id="Resource_7djyk"]
script = ExtResource("4_5mrl4")
left_enabled = true
left_type = 2
left_label = "Material"
right_enabled = false
right_type = 0
right_label = ""

[sub_resource type="Resource" id="Resource_3bfbu"]
script = ExtResource("4_5mrl4")
left_enabled = false
left_type = 0
left_label = ""
right_enabled = true
right_type = 1
right_label = "Map"

[sub_resource type="Resource" id="Resource_3c4wo"]
script = ExtResource("7_xs8ip")
input_slots = Array[ExtResource("4_5mrl4")]([SubResource("Resource_ft4k8"), SubResource("Resource_7djyk")])
args = Array[ExtResource("3_pv6db")]([SubResource("Resource_3vm82"), SubResource("Resource_qexl1")])
output_slots = Array[ExtResource("4_5mrl4")]([SubResource("Resource_3bfbu")])
title = "ThresholdMapper"
description = ""
is_output = false
data = {
"max": 1.0,
"min": -0.2
}

[sub_resource type="Resource" id="Resource_j4eks"]
script = ExtResource("3_pv6db")
type = 0
name = "min"

[sub_resource type="Resource" id="Resource_nv1kg"]
script = ExtResource("3_pv6db")
type = 0
name = "max"

[sub_resource type="Resource" id="Resource_6xujn"]
script = ExtResource("4_5mrl4")
left_enabled = true
left_type = 0
left_label = "Data"
right_enabled = false
right_type = 0
right_label = ""

[sub_resource type="Resource" id="Resource_2q7po"]
script = ExtResource("4_5mrl4")
left_enabled = true
left_type = 2
left_label = "Material"
right_enabled = false
right_type = 0
right_label = ""

[sub_resource type="Resource" id="Resource_huklf"]
script = ExtResource("4_5mrl4")
left_enabled = false
left_type = 0
left_label = ""
right_enabled = true
right_type = 1
right_label = "Map"

[sub_resource type="Resource" id="Resource_otlvv"]
script = ExtResource("7_xs8ip")
input_slots = Array[ExtResource("4_5mrl4")]([SubResource("Resource_6xujn"), SubResource("Resource_2q7po")])
args = Array[ExtResource("3_pv6db")]([SubResource("Resource_j4eks"), SubResource("Resource_nv1kg")])
output_slots = Array[ExtResource("4_5mrl4")]([SubResource("Resource_huklf")])
title = "ThresholdMapper"
description = "Outputs a map.
For every cell of a value between [param]min[/bg][/c] and [param]max[/bg][/c] (inclusive), sets that cell to [param]material[/bg][/c]. Otherwise, sets it to [code]null[/bg][/c]."
is_output = false
data = {
"max": 0.9,
"min": 0.2
}

[sub_resource type="Resource" id="Resource_cvpld"]
script = ExtResource("3_pv6db")
type = 3
name = "name"

[sub_resource type="Resource" id="Resource_js8d3"]
script = ExtResource("8_3dpxg")
type = 24
hint = 17
hint_string = "GaeaMaterial"
output_type = 2
input_slots = Array[ExtResource("4_5mrl4")]([])
args = Array[ExtResource("3_pv6db")]([SubResource("Resource_cvpld")])
output_slots = Array[ExtResource("4_5mrl4")]([])
title = "MaterialVariable"
description = ""
is_output = false
data = {
"name": "Grass"
}

[sub_resource type="Resource" id="Resource_pw4e7"]
script = ExtResource("3_pv6db")
type = 3
name = "name"

[sub_resource type="Resource" id="Resource_7hrm5"]
script = ExtResource("8_3dpxg")
type = 24
hint = 17
hint_string = "GaeaMaterial"
output_type = 2
input_slots = Array[ExtResource("4_5mrl4")]([])
args = Array[ExtResource("3_pv6db")]([SubResource("Resource_pw4e7")])
output_slots = Array[ExtResource("4_5mrl4")]([])
title = "MaterialVariable"
description = "GaeaMaterial variable editable in the inspector."
is_output = false
data = {
"name": "Tree"
}

[sub_resource type="Resource" id="Resource_qmf2c"]
script = ExtResource("3_aq2cv")
layers = Array[ExtResource("3_hrvmf")]([SubResource("Resource_jrnmn"), SubResource("Resource_5ghq7")])
connections = Array[Dictionary]([{
"from_node": 4,
"from_port": 0,
"to_node": 2,
"to_port": 1
}, {
"from_node": 1,
"from_port": 0,
"to_node": 2,
"to_port": 0
}, {
"from_node": 1,
"from_port": 0,
"to_node": 3,
"to_port": 0
}, {
"from_node": 5,
"from_port": 0,
"to_node": 3,
"to_port": 1
}, {
"from_node": 2,
"from_port": 0,
"to_node": 0,
"to_port": 0
}, {
"from_node": 3,
"from_port": 0,
"to_node": 0,
"to_port": 1
}])
resources = Array[ExtResource("5_d22to")]([ExtResource("9_8skmy"), SubResource("Resource_begw7"), SubResource("Resource_3c4wo"), SubResource("Resource_otlvv"), SubResource("Resource_js8d3"), SubResource("Resource_7hrm5")])
node_data = Array[Dictionary]([{
"position": Vector2(1220, -220)
}, {
"position": Vector2(340, -460)
}, {
"position": Vector2(760, -520)
}, {
"position": Vector2(760, -260)
}, {
"position": Vector2(440, -620)
}, {
"position": Vector2(360, -220)
}])
parameters = {
"Grass": {
"hint": 17,
"hint_string": "GaeaMaterial",
"name": "Grass",
"type": 24,
"value": SubResource("Resource_qjoei")
},
"Tree": {
"hint": 17,
"hint_string": "GaeaMaterial",
"name": "Tree",
"type": 24,
"value": SubResource("Resource_jnw5g")
}
}
scroll_offset = Vector2(-65.5197, -346.754)
Tree = SubResource("Resource_jnw5g")
Grass = SubResource("Resource_qjoei")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_smit1"]
texture = ExtResource("3_snetl")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0

[sub_resource type="TileSet" id="TileSet_5nfp8"]
sources/0 = SubResource("TileSetAtlasSource_smit1")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_c4gv6"]
render_priority = 0
shader = ExtResource("11_kcwyn")
shader_parameter/asefawfae = 1
shader_parameter/asefasef = 0.0

[sub_resource type="BoxMesh" id="BoxMesh_mi0wb"]

[sub_resource type="MeshLibrary" id="MeshLibrary_onixc"]
item/0/name = ""
item/0/mesh = SubResource("BoxMesh_mi0wb")
item/0/mesh_transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
item/0/shapes = []
item/0/navigation_mesh_transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
item/0/navigation_layers = 1

[node name="TestScene" type="Node2D"]

[node name="GaeaGenerator" type="Node" parent="."]
script = ExtResource("1_b5xa0")
data = SubResource("Resource_qmf2c")
seed = 4004048884
world_size = Vector3i(64, 64, 1)

[node name="GaeaTilemapRenderer" type="Node" parent="." node_paths=PackedStringArray("tile_map_layers", "generator")]
script = ExtResource("11_db3f4")
tile_map_layers = [NodePath("../TileMapLayer"), NodePath("../TileMapLayer2")]
generator = NodePath("../GaeaGenerator")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_set = SubResource("TileSet_5nfp8")

[node name="TileMapLayer2" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAARABwAAAADAAAAAAASAB0AAAADAAAAAAAIAB8AAAADAAAAAAAMABwAAAADAAAAAAAMAB0AAAADAAAAAAAMAB4AAAADAAAAAAAMAB8AAAADAAAAAAANABsAAAADAAAAAAANABwAAAADAAAAAAANAB0AAAADAAAAAAANAB4AAAADAAAAAAANAB8AAAADAAAAAAANACAAAAADAAAAAAAOABoAAAADAAAAAAAOABsAAAADAAAAAAAOABwAAAADAAAAAAAOAB0AAAADAAAAAAAOAB4AAAADAAAAAAAOAB8AAAADAAAAAAAOACAAAAADAAAAAAAPABoAAAADAAAAAAAPABsAAAADAAAAAAAPABwAAAADAAAAAAAPAB0AAAADAAAAAAAPAB4AAAADAAAAAAAPAB8AAAADAAAAAAAPACAAAAADAAAAAAAQABoAAAADAAAAAAAQABsAAAADAAAAAAAQABwAAAADAAAAAAAQAB0AAAADAAAAAAAQAB4AAAADAAAAAAAQAB8AAAADAAAAAAAQACAAAAADAAAAAAARAB0AAAADAAAAAAARAB4AAAADAAAAAAARAB8AAAADAAAAAAARACAAAAADAAAAAAASAB4AAAADAAAAAAASAB8AAAADAAAAAAA4AD8AAAADAAAAAAA5AD8AAAADAAAAAAA6AD8AAAADAAAAAAA7AD4AAAADAAAAAAA7AD8AAAADAAAAAAA8AD4AAAADAAAAAAA8AD8AAAADAAAAAAA9AD0AAAADAAAAAAA9AD4AAAADAAAAAAA9AD8AAAADAAAAAAA+AD0AAAADAAAAAAA+AD4AAAADAAAAAAA+AD8AAAADAAAAAAA/ADwAAAADAAAAAAA/AD0AAAADAAAAAAA/AD4AAAADAAAAAAA/AD8AAAADAAAAAAA=")
tile_set = SubResource("TileSet_5nfp8")

[node name="Node2D" type="Node2D" parent="."]
material = SubResource("ShaderMaterial_c4gv6")

[node name="GridMap" type="GridMap" parent="."]
mesh_library = SubResource("MeshLibrary_onixc")
cell_size = Vector3(1, 1, 1)
