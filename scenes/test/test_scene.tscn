[gd_scene load_steps=41 format=4 uid="uid://yj8lg31imwsl"]

[ext_resource type="Script" path="res://addons/gaea/nodes/generator.gd" id="1_b5xa0"]
[ext_resource type="Script" path="res://scenes/test/test_scene.gd" id="1_i42dh"]
[ext_resource type="Script" path="res://addons/gaea/resources/gaea_data.gd" id="3_aq2cv"]
[ext_resource type="Script" path="res://addons/gaea/resources/materials/tilemap_material.gd" id="3_f2de6"]
[ext_resource type="Script" path="res://addons/gaea/resources/gaea_layer.gd" id="3_hrvmf"]
[ext_resource type="Texture2D" uid="uid://cmy8ope6463sf" path="res://scenes/test/test_tileset.png" id="3_snetl"]
[ext_resource type="Script" path="res://addons/gaea/graph/nodes/node_resource.gd" id="5_d22to"]
[ext_resource type="Resource" uid="uid://bbkdvyxkj2slo" path="res://addons/gaea/graph/nodes/output_node_resource.tres" id="5_flipl"]
[ext_resource type="Script" path="res://addons/gaea/graph/nodes/node_argument.gd" id="6_ihln5"]
[ext_resource type="Script" path="res://addons/gaea/graph/nodes/node_slot.gd" id="7_8n6j2"]
[ext_resource type="Script" path="res://addons/gaea/graph/nodes/root/map/threshold_mapper.gd" id="8_r5bb8"]
[ext_resource type="Script" path="res://addons/gaea/graph/nodes/root/input/variable_node.gd" id="10_y272n"]
[ext_resource type="Script" path="res://addons/gaea/nodes/renderers/tilemap_renderer.gd" id="11_db3f4"]
[ext_resource type="Shader" uid="uid://c2pc7mfv0730k" path="res://new_shader.tres" id="11_kcwyn"]
[ext_resource type="Script" path="res://addons/gaea/graph/nodes/root/data/paths/snake_path_2d.gd" id="12_1k6mo"]
[ext_resource type="Script" path="res://addons/gaea/graph/nodes/root/functions/operation.gd" id="12_lqqjh"]
[ext_resource type="Texture2D" uid="uid://bh3d1rgohpb4x" path="res://icon.svg" id="17_307sj"]
[ext_resource type="Script" path="res://scenes/test/test_actor.gd" id="18_l07il"]

[sub_resource type="Resource" id="Resource_lif30"]
script = ExtResource("3_f2de6")
type = 0
source_id = 0
atlas_coord = Vector2i(0, 0)
alternative_tile = 0

[sub_resource type="Resource" id="Resource_axg3r"]
script = ExtResource("3_hrvmf")
enabled = true

[sub_resource type="Resource" id="Resource_cvpld"]
script = ExtResource("6_ihln5")
type = 3
name = "name"
default_value = null

[sub_resource type="Resource" id="Resource_yi77e"]
script = ExtResource("10_y272n")
type = 24
hint = 17
hint_string = "GaeaMaterial"
output_type = 2
input_slots = Array[ExtResource("7_8n6j2")]([])
args = Array[ExtResource("6_ihln5")]([SubResource("Resource_cvpld")])
output_slots = Array[ExtResource("7_8n6j2")]([])
title = "MaterialVariable"
description = "GaeaMaterial variable editable in the inspector."
is_output = false
data = {
"name": "MaterialVariable"
}

[sub_resource type="Resource" id="Resource_cg26j"]
script = ExtResource("6_ihln5")
type = 4
name = "range"
default_value = null

[sub_resource type="Resource" id="Resource_ft4k8"]
script = ExtResource("7_8n6j2")
left_enabled = true
left_type = 0
left_label = "Data"
right_enabled = false
right_type = 0
right_label = ""
right_show_preview = false

[sub_resource type="Resource" id="Resource_7djyk"]
script = ExtResource("7_8n6j2")
left_enabled = true
left_type = 2
left_label = "Material"
right_enabled = false
right_type = 0
right_label = ""
right_show_preview = false

[sub_resource type="Resource" id="Resource_3bfbu"]
script = ExtResource("7_8n6j2")
left_enabled = false
left_type = 0
left_label = ""
right_enabled = true
right_type = 1
right_label = "Map"
right_show_preview = false

[sub_resource type="Resource" id="Resource_do0yg"]
script = ExtResource("8_r5bb8")
input_slots = Array[ExtResource("7_8n6j2")]([SubResource("Resource_ft4k8"), SubResource("Resource_7djyk")])
args = Array[ExtResource("6_ihln5")]([SubResource("Resource_cg26j")])
output_slots = Array[ExtResource("7_8n6j2")]([SubResource("Resource_3bfbu")])
title = "ThresholdMapper"
description = "Outputs a map.
For every cell of a value between [param]min[/bg][/c] and [param]max[/bg][/c] (inclusive), sets that cell to [param]material[/bg][/c]. Otherwise, sets it to [code]null[/bg][/c]."
is_output = false
data = {
"range": {
"max": 16.0,
"min": 0.1
}
}

[sub_resource type="Resource" id="Resource_4i160"]
script = ExtResource("6_ihln5")
type = 0
name = "move_left_chance"
default_value = 0.4

[sub_resource type="Resource" id="Resource_0hjq7"]
script = ExtResource("6_ihln5")
type = 0
name = "move_right_chance"
default_value = 0.4

[sub_resource type="Resource" id="Resource_bhjed"]
script = ExtResource("6_ihln5")
type = 0
name = "move_down_chance"
default_value = 0.2

[sub_resource type="Resource" id="Resource_6iq26"]
script = ExtResource("7_8n6j2")
left_enabled = false
left_type = 0
left_label = ""
right_enabled = true
right_type = 0
right_label = "Data"
right_show_preview = true

[sub_resource type="Resource" id="Resource_x6mir"]
script = ExtResource("12_1k6mo")
input_slots = Array[ExtResource("7_8n6j2")]([])
args = Array[ExtResource("6_ihln5")]([SubResource("Resource_4i160"), SubResource("Resource_0hjq7"), SubResource("Resource_bhjed")])
output_slots = Array[ExtResource("7_8n6j2")]([SubResource("Resource_6iq26")])
title = "SnakePath2D"
description = "Generates a path that goes from the top of the world to the bottom, with each cell consisting of flags that indicate their neighbors (up, down, left, right). Fills the rest with 0."
is_output = false
data = {
"move_down_chance": 0.2,
"move_left_chance": 0.4,
"move_right_chance": 0.4
}

[sub_resource type="Resource" id="Resource_wph30"]
script = ExtResource("6_ihln5")
type = 0
name = "value"
default_value = null

[sub_resource type="Resource" id="Resource_i353x"]
script = ExtResource("7_8n6j2")
left_enabled = true
left_type = 0
left_label = "Data"
right_enabled = false
right_type = 0
right_label = ""
right_show_preview = false

[sub_resource type="Resource" id="Resource_avr7f"]
script = ExtResource("7_8n6j2")
left_enabled = false
left_type = 0
left_label = ""
right_enabled = true
right_type = 0
right_label = "Data"
right_show_preview = true

[sub_resource type="Resource" id="Resource_y11j2"]
script = ExtResource("12_lqqjh")
operation = 2
input_slots = Array[ExtResource("7_8n6j2")]([SubResource("Resource_i353x")])
args = Array[ExtResource("6_ihln5")]([SubResource("Resource_wph30")])
output_slots = Array[ExtResource("7_8n6j2")]([SubResource("Resource_avr7f")])
title = "Divide"
description = "Divides all cells in [param]data[/bg][/c] by [param]value[/bg][/c]."
is_output = false
data = {
"value": 16.0
}

[sub_resource type="Resource" id="Resource_yss8d"]
script = ExtResource("3_aq2cv")
layers = Array[ExtResource("3_hrvmf")]([SubResource("Resource_axg3r")])
connections = Array[Dictionary]([{
"from_node": 1,
"from_port": 0,
"to_node": 2,
"to_port": 1
}, {
"from_node": 2,
"from_port": 0,
"to_node": 0,
"to_port": 0
}, {
"from_node": 3,
"from_port": 0,
"to_node": 4,
"to_port": 0
}])
resources = Array[ExtResource("5_d22to")]([ExtResource("5_flipl"), SubResource("Resource_yi77e"), SubResource("Resource_do0yg"), SubResource("Resource_x6mir"), SubResource("Resource_y11j2")])
node_data = Array[Dictionary]([{
"position": Vector2(180, 180)
}, {
"position": Vector2(-540, 120)
}, {
"position": Vector2(120, -140)
}, {
"position": Vector2(-680, -540)
}, {
"position": Vector2(-280, -500)
}])
parameters = {
"MaterialVariable": {
"hint": 17,
"hint_string": "GaeaMaterial",
"name": "MaterialVariable",
"type": 24,
"value": SubResource("Resource_lif30")
}
}
scroll_offset = Vector2(-732.617, -577.62)
MaterialVariable = SubResource("Resource_lif30")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_smit1"]
texture = ExtResource("3_snetl")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0

[sub_resource type="TileSet" id="TileSet_5nfp8"]
sources/0 = SubResource("TileSetAtlasSource_smit1")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_c4gv6"]
render_priority = 0
shader = ExtResource("11_kcwyn")
shader_parameter/asefawfae = 1
shader_parameter/asefasef = 0.0

[node name="TestScene" type="Node2D"]
script = ExtResource("1_i42dh")

[node name="GaeaGenerator" type="Node" parent="."]
script = ExtResource("1_b5xa0")
data = SubResource("Resource_yss8d")
seed = 843693490
world_size = Vector3i(4, 4, 1)
generate_on_ready = false

[node name="GaeaTilemapRenderer" type="Node" parent="." node_paths=PackedStringArray("tile_map_layers", "generator")]
script = ExtResource("11_db3f4")
tile_map_layers = [NodePath("../TileMapLayer"), NodePath("../TileMapLayer2"), NodePath("../TileMapLayer3")]
generator = NodePath("../GaeaGenerator")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAABAAAAAAAAAAAAAAABAAEAAAAAAAAAAAABAAIAAAAAAAAAAAACAAIAAAAAAAAAAAACAAMAAAAAAAAAAAADAAIAAAAAAAAAAAADAAMAAAAAAAAAAAA=")
tile_set = SubResource("TileSet_5nfp8")

[node name="TileMapLayer2" type="TileMapLayer" parent="."]
tile_set = SubResource("TileSet_5nfp8")

[node name="TileMapLayer3" type="TileMapLayer" parent="."]
tile_set = SubResource("TileSet_5nfp8")

[node name="Node2D" type="Node2D" parent="."]
material = SubResource("ShaderMaterial_c4gv6")

[node name="TestActor" type="Sprite2D" parent="."]
visible = false
texture = ExtResource("17_307sj")
script = ExtResource("18_l07il")

[node name="Camera2D" type="Camera2D" parent="TestActor"]
